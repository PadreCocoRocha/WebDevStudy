<!DOCTYPE html>
<html>
<head>
<!-- Load the Paper.js library -->
<script type="text/javascript" src="paperjs/dist/paper-full.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<!-- Howler CDN: -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.0.2/howler.core.min.js"></script>
	<link rel="stylesheet" href="circles.css" type="text/css">

</head>
<body>
	<div>
		<canvas id="myCanvas" resize="true"></canvas>
	</div>

	<script type="text/paperscript" canvas="myCanvas">

	var sounds = [
		'sounds/bubbles.mp3','sounds/clay.mp3','sounds/confetti.mp3','sounds/corona.mp3','sounds/dotted-spiral.mp3',
		'sounds/flash-1.mp3','sounds/flash-2.mp3', 'sounds/flash-3.mp3','sounds/glimmer.mp3','sounds/moon.mp3',
		'sounds/pinwheel.mp3','sounds/piston-1.mp3', 'sounds/piston-2.mp3','sounds/piston-3.mp3', 'sounds/prism-1.mp3',
		'sounds/prism-2.mp3','sounds/prism-3.mp3','sounds/splits.mp3', 'sounds/squiggle.mp3','sounds/strike.mp3',
		'sounds/suspension.mp3','sounds/timer.mp3','sounds/ufo.mp3','sounds/veil.mp3','sounds/wipe.mp3',
		'sounds/zig-zag.mp3'
	];

	var counter = 0;
	var circle = new Path.Circle({
		center: [0, 0],
		radius: 500,
		fillColor: 'purple',
		strokeColor: 'black'
	})

	var circleSymbol = new Symbol(circle);

	function onKeyDown (event){
			var n = event.key.charCodeAt(0);
			if (96 < n && n < 123){
					n -= 97 //'a'.charCodeAt(0);
					console.log(n);
					new Howl({src: [sounds[n]]}).play();
					circleSymbol.place(Point.random() * view.size);
					// circleSymbol.fillColor = (new Point.random()).size.height;
					console.log(project.activeLayer);
					counter++;
			}
	}

	function onFrame(event) {
		for (i = 0; i < counter; i++){
			var el = project.activeLayer.children[i];
			el.scale(.9);
			if(el.scaling.x < 0.02) {
				el.remove();
				counter--;
			}
		}
		// circleSymbol.fillColor.hue += 1;
	// // the number of times the frame event was fired:
	// console.log(event.count);
	// // The total amount of time passed since
	// // the first frame event in seconds:
	// console.log(event.time);
	// // The time passed in seconds since the last frame event:
	// console.log(event.delta);
	}


	</script>
</body>
</html>
